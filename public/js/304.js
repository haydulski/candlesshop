"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[304],{6304:(e,n,t)=>{t.r(n),t.d(n,{default:()=>N});var r,i,o,a=t(7294),l=t(2125);function c(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var s,u,d=l.default.section(r||(r=c(["\nmin-height:100vh;\nmin-width:100%;\ndisplay:flex;\njustify-content:center;\nalign-items:center;\nflex-direction:column;\nh1{\n    color:",";\n    font-size:6rem;\n}\nmargin-bottom:5%;\nmargin-top:14vh;\n"])),(function(e){return e.theme.colors.orange})),f=l.default.div(i||(i=c(["\nbackground:#1DF2BA;\npadding:2rem;\nwidth:70%;\ndisplay:flex;\njustify-content:space-around;\n\n"]))),h=l.default.div(o||(o=c(["\npadding:1rem;\nwidth:50%;\nbackground-color: #fdfdfd;\ntable{\n    width:100%;\n    border-collapse: separate;\n    display:table;\n    \n}\ntable.short-summary{\n    font-size:1rem;\n    td{\n        border-bottom: 2px solid #d7d7d7;\n        font-size:1rem;\n        margin-bottom:.5rem;\n        line-height:2rem;\n    }\n}\nh3{\n    margin:1rem 0;\n}\ninput{\n    font-size:1rem;\n    margin:1rem 0;\n}\nlabel{\n    margin-left:.5rem;\n}\n.btn{\n    margin-top:10%;\n}\n.msg-info{\n    text-align:center;\n    color:",";\n    & a{\n        color:",";\n        &:hover{\n            color:","; \n        }\n    }\n}\n"])),(function(e){return e.theme.colors.lightGreen}),(function(e){return e.theme.colors.orange}),(function(e){return e.theme.colors.green})),m=t(9756);function p(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var y=l.default.div(s||(s=p(["\nwidth:100%;\npadding:0rem;\ntextarea{\n    width:98%;\n    min-height:50px;\n    padding:.5rem 1%;\n}\n"]))),g=l.default.input(u||(u=p(["\nfont-size:1rem;\npadding: .5rem 1%;\nwidth:98%;\nmargin:1rem auto;\n&.half-width{\n    width:46%;\n    &.mr-1{\n        margin-right:1%;\n    }\n}\n\n\n"]))),j=t(5893);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){v(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){var n=e.getter,t=e.data,r=function(e){n(x(x({},t),{},v({},e.target.id,e.target.value)))};return(0,j.jsxs)(y,{children:[(0,j.jsx)("h3",{children:"Your address details"}),(0,j.jsx)(g,{className:"half-width mr-1",type:"text",id:"name",placeholder:"Name",onChange:function(e){return r(e)},value:t.name}),(0,j.jsx)(g,{className:"half-width",type:"text",id:"surname",placeholder:"Surname",value:t.surname,onChange:function(e){return r(e)}}),(0,j.jsx)(g,{type:"email",id:"email",placeholder:"Email",value:t.email,onChange:function(e){return r(e)}}),(0,j.jsx)(g,{type:"text",id:"mobile",placeholder:"Contact Phone",value:t.mobile,onChange:function(e){return r(e)}}),(0,j.jsx)(g,{type:"text",id:"street",placeholder:"Street",value:t.street,onChange:function(e){return r(e)}}),(0,j.jsx)(g,{className:"half-width mr-1",type:"text",id:"post",placeholder:"Post code",value:t.post,onChange:function(e){return r(e)}}),(0,j.jsx)(g,{className:"half-width",type:"text",id:"city",placeholder:"City",value:t.city,onChange:function(e){return r(e)}}),(0,j.jsx)(g,{type:"text",id:"province",placeholder:"Province",value:t.province,onChange:function(e){return r(e)}}),(0,j.jsx)(g,{type:"text",id:"country",value:t.country,placeholder:"Country",onChange:function(e){return r(e)}}),(0,j.jsx)("textarea",{type:"text",id:"message",placeholder:"Your message...",onChange:function(e){return r(e)},value:t.message})]})}const w=a.memo(O);var P=t(9711),C=(t(2195),t(5538)),k=t(368);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){E(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var F=function(){return(0,j.jsxs)("h4",{className:"msg-info",children:["Please ",(0,j.jsx)(P.rU,{to:"/user-login",children:"login"})," or place order as guest."]})};const N=(0,m.$j)((function(e){return{cart:e.shop.cart,isLogged:e.auth.isLogged,user:e.auth.user}}),{placeOrder:k.s1})((function(e){var n=e.cart,t=e.isLogged,r=e.user,i=e.placeOrder,o=z((0,a.useState)({name:"",surname:"",email:"",mobile:"",street:"",post:"",city:"",province:"",country:"",message:""}),2),l=o[0],c=o[1],s=z((0,a.useState)("0"),2),u=s[0],m=s[1],p=z((0,a.useState)(""),2),y=p[0],g=p[1],b=z((0,a.useState)("1"),2),x=b[0],v=b[1],O=(0,a.useCallback)((function(){return n.map((function(e){return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.title}),(0,j.jsxs)("td",{children:["$",e.price]})]},e.id)}))}),[n]),P=(0,a.useMemo)((function(){var e=0;return n.forEach((function(n){e+=n.price*n.qty})),e}),[n]),k=function(){return(P+.23*P).toFixed(2)},S=function(e){var n=e.target.value,t=parseFloat(k())+parseFloat(n);m(n),g(t.toFixed(2))};return(0,a.useEffect)((function(){g(k)}),[]),(0,a.useEffect)((function(){Object.keys(r).length>0&&c(D(D({},l),{},{name:r.name,surname:r.surname,email:r.email,phone:r.mobile}))}),[r]),(0,j.jsxs)(d,{children:[(0,j.jsx)("h1",{children:"Order summary"}),(0,j.jsxs)(f,{children:[(0,j.jsxs)(h,{children:[t?null:(0,j.jsx)(F,{}),(0,j.jsx)(w,{data:l,getter:c})]}),(0,j.jsxs)(h,{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"Products:"}),(0,j.jsx)("table",{className:"short-summary",children:(0,j.jsx)("tbody",{children:(0,j.jsx)(O,{})})})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"Delivery:"}),(0,j.jsx)("input",{type:"radio",id:"1",name:"delivery",value:"10",onClick:function(e){return S(e)},defaultChecked:!0}),(0,j.jsx)("label",{htmlFor:"1",children:"DPD delivery - $10"}),(0,j.jsx)("br",{}),(0,j.jsx)("input",{type:"radio",id:"2",name:"delivery",value:"0",onClick:function(e){return S(e)}}),(0,j.jsx)("label",{htmlFor:"2",children:"On place - free"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"Payment method:"}),(0,j.jsx)("input",{type:"radio",id:"1",name:"payment",onClick:function(e){return v(e.target.id)},defaultChecked:!0}),(0,j.jsx)("label",{htmlFor:"1",children:"Bank transfer"}),(0,j.jsx)("br",{}),(0,j.jsx)("input",{type:"radio",id:"2",name:"payment",onClick:function(e){return v(e.target.id)}}),(0,j.jsx)("label",{htmlFor:"2",children:"PayPal"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"Summary:"}),(0,j.jsxs)("p",{children:["Total to pay: ",(0,j.jsxs)("b",{children:["$",y," brutto"]})," (with 23% VAT)"]})]}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{className:"btn",onClick:function(){var e,t=(e=[],["name","surname","mobile","email","city","country","street"].forEach((function(n){""===l[n]&&e.push(n)})),e);if(t.length>0){!function(e){C.Am.error(e,{position:"top-left",autoClose:6e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}("Please fill fields: "+t.join(", ")+". Then place order.")}else{var r={cart:n,details:l,netto:String(P),brutto:k(),payment:x,delivery:u};i(r)}},children:"Place order"})})]})]})]})}))}}]);